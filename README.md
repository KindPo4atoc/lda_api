# LDA API

API –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –∑–∞—è–≤–æ–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Linear Discriminant Analysis

## üì° API Endpoints

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—É—á–∞—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
**–ú–µ—Ç–æ–¥:** `GET`  
**–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `/selectLearnData`  
**–û—Ç–≤–µ—Ç:**  
```json
{
  "users_data": [
    {
      "loan_id": 1,
      "loan_term": 12,
      "income_annum": 9600000,
      "loan_amount": 29900000,
      "cibil_score": 778,
      "loan_status": "Approved"
    },
    {
      "loan_id": 2,
      "loan_term": 8,
      "income_annum": 4100000,
      "loan_amount": 12200000,
      "cibil_score": 417,
      "loan_status": "Rejected"
    }
  ]
}
```
### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
**–ú–µ—Ç–æ–¥:** `GET`  
**–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `/getConvData`  
**–û—Ç–≤–µ—Ç:**  
```json
{
  "x": [169.75, 88.71, 100.37],
  "y": [5.76, 6.01, 12.30],
  "class": [1, 0, 0]
}
```
### 3. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏ LDA
**–ú–µ—Ç–æ–¥:** `GET`  
**–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `/initData`  
**–û—Ç–≤–µ—Ç:**  
```json
{
  "accuracy": 88.65,
  "linear_disc": [
    [-0.0000026, 9.07e-7, -0.97305, 0.23055],
    [-5.62e-8, -3.39e-7, 0.99998, 0.00572]
  ],
  "class_means": [
    [153.02, 8.86],
    [87.69, 8.86]
  ],
  "CovInvMatrix": [
    [0.000612, -8.89e-21],
    [-8.89e-21, 0.02334]
  ]
}
```
### 4. –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞
**–ú–µ—Ç–æ–¥:** `POST`  
**–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `/predict`  
**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "loan_term": 12,
  "income_annum": 9600000,
  "loan_amount": 29900000,
  "cibil_score": 778
}
```
**–û—Ç–≤–µ—Ç:**  
```json
{
  "predict_model": 0,
  "score_discrimination": [
    [5.681426627284771],
    [3.157074353020393]
  ],
  "data": [
    [88.80298108018181, -2.759730789719024]
  ]
}
```
## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|------------|
| Go 1.21+   | –ë–∞–∑–æ–≤—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è |
| Gorilla/mux | –†–æ—É—Ç–∏–Ω–≥ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ |
| TOML       | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| Logrus     | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π |
| Gonum      | –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏ LDA |
| pq         | –î—Ä–∞–π–≤–µ—Ä PostgreSQL –¥–ª—è Go |
| PostgreSQL | –•—Ä–∞–Ω–µ–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ |

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Go 1.21+
- PostgreSQL 14+
- Git
## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/KindPo4atoc/lda_api
```
2. –í–≤–µ—Å—Ç–∏ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª config.toml
3. –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å:
```bash
make
./apiserver
```
